/*! jQuery UI - v1.11.4 - 2015-11-17
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */(function(s){typeof define=="function"&&define.amd?define(["jquery"],s):s(jQuery)})(function(s){function P(t,e){var i,n,o,r=t.nodeName.toLowerCase();return r==="area"?(i=t.parentNode,n=i.name,t.href&&n&&i.nodeName.toLowerCase()==="map"?(o=s("img[usemap='#"+n+"']")[0],!!o&&y(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:r==="a"&&t.href||e)&&y(t)}function y(t){return s.expr.filters.visible(t)&&!s(t).parents().addBack().filter(function(){return s.css(this,"visibility")==="hidden"}).length}s.ui=s.ui||{},s.extend(s.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({scrollParent:function(t){var e=this.css("position"),i=e==="absolute",n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var r=s(this);return i&&r.css("position")==="static"?!1:n.test(r.css("overflow")+r.css("overflow-y")+r.css("overflow-x"))}).eq(0);return e!=="fixed"&&o.length?o:s(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(t){return function(e){return!!s.data(e,t)}}):function(t,e,i){return!!s.data(t,i[3])},focusable:function(t){return P(t,!isNaN(s.attr(t,"tabindex")))},tabbable:function(t){var e=s.attr(t,"tabindex"),i=isNaN(e);return(i||e>=0)&&P(t,!i)}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(t,e){function i(h,l,a,c){return s.each(n,function(){l-=parseFloat(s.css(h,"padding"+this))||0,a&&(l-=parseFloat(s.css(h,"border"+this+"Width"))||0),c&&(l-=parseFloat(s.css(h,"margin"+this))||0)}),l}var n=e==="Width"?["Left","Right"]:["Top","Bottom"],o=e.toLowerCase(),r={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};s.fn["inner"+e]=function(h){return h===void 0?r["inner"+e].call(this):this.each(function(){s(this).css(o,i(this,h)+"px")})},s.fn["outer"+e]=function(h,l){return typeof h!="number"?r["outer"+e].call(this,h):this.each(function(){s(this).css(o,i(this,h,!0,l)+"px")})}}),s.fn.addBack||(s.fn.addBack=function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=function(t){return function(e){return arguments.length?t.call(this,s.camelCase(e)):t.call(this)}}(s.fn.removeData)),s.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),s.fn.extend({focus:function(t){return function(e,i){return typeof e=="number"?this.each(function(){var n=this;setTimeout(function(){s(n).focus(),i&&i.call(n)},e)}):t.apply(this,arguments)}}(s.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==void 0)return this.css("zIndex",t);if(this.length)for(var e,i,n=s(this[0]);n.length&&n[0]!==document;){if(e=n.css("position"),(e==="absolute"||e==="relative"||e==="fixed")&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&i!==0))return i;n=n.parent()}return 0}}),s.ui.plugin={add:function(t,e,i){var n,o=s.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&t.element[0].parentNode.nodeType!==11))for(o=0;r.length>o;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,i)}};var C=0,z=Array.prototype.slice;s.cleanData=function(t){return function(e){var i,n,o;for(o=0;(n=e[o])!=null;o++)try{i=s._data(n,"events"),i&&i.remove&&s(n).triggerHandler("remove")}catch{}t(e)}}(s.cleanData),s.widget=function(t,e,i){var n,o,r,h,l={},a=t.split(".")[0];return t=t.split(".")[1],n=a+"-"+t,i||(i=e,e=s.Widget),s.expr[":"][n.toLowerCase()]=function(c){return!!s.data(c,n)},s[a]=s[a]||{},o=s[a][t],r=s[a][t]=function(c,p){return this._createWidget?(arguments.length&&this._createWidget(c,p),void 0):new r(c,p)},s.extend(r,o,{version:i.version,_proto:s.extend({},i),_childConstructors:[]}),h=new e,h.options=s.widget.extend({},h.options),s.each(i,function(c,p){return s.isFunction(p)?(l[c]=function(){var d=function(){return e.prototype[c].apply(this,arguments)},u=function(f){return e.prototype[c].apply(this,f)};return function(){var f,g=this._super,m=this._superApply;return this._super=d,this._superApply=u,f=p.apply(this,arguments),this._super=g,this._superApply=m,f}}(),void 0):(l[c]=p,void 0)}),r.prototype=s.widget.extend(h,{widgetEventPrefix:o&&h.widgetEventPrefix||t},l,{constructor:r,namespace:a,widgetName:t,widgetFullName:n}),o?(s.each(o._childConstructors,function(c,p){var d=p.prototype;s.widget(d.namespace+"."+d.widgetName,r,p._proto)}),delete o._childConstructors):e._childConstructors.push(r),s.widget.bridge(t,r),r},s.widget.extend=function(t){for(var e,i,n=z.call(arguments,1),o=0,r=n.length;r>o;o++)for(e in n[o])i=n[o][e],n[o].hasOwnProperty(e)&&i!==void 0&&(t[e]=s.isPlainObject(i)?s.isPlainObject(t[e])?s.widget.extend({},t[e],i):s.widget.extend({},i):i);return t},s.widget.bridge=function(t,e){var i=e.prototype.widgetFullName||t;s.fn[t]=function(n){var o=typeof n=="string",r=z.call(arguments,1),h=this;return o?this.each(function(){var l,a=s.data(this,i);return n==="instance"?(h=a,!1):a?s.isFunction(a[n])&&n.charAt(0)!=="_"?(l=a[n].apply(a,r),l!==a&&l!==void 0?(h=l&&l.jquery?h.pushStack(l.get()):l,!1):void 0):s.error("no such method '"+n+"' for "+t+" widget instance"):s.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=s.widget.extend.apply(null,[n].concat(r))),this.each(function(){var l=s.data(this,i);l?(l.option(n||{}),l._init&&l._init()):s.data(this,i,new e(n,this))})),h}},s.Widget=function(){},s.Widget._childConstructors=[],s.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=s(e||this.defaultElement||this)[0],this.element=s(e),this.uuid=C++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=s(),this.hoverable=s(),this.focusable=s(),e!==this&&(s.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(i){i.target===e&&this.destroy()}}),this.document=s(e.style?e.ownerDocument:e.document||e),this.window=s(this.document[0].defaultView||this.document[0].parentWindow)),this.options=s.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:s.noop,_getCreateEventData:s.noop,_create:s.noop,_init:s.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(s.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:s.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,r=t;if(arguments.length===0)return s.widget.extend({},this.options);if(typeof t=="string")if(r={},i=t.split("."),t=i.shift(),i.length){for(n=r[t]=s.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),arguments.length===1)return n[t]===void 0?null:n[t];n[t]=e}else{if(arguments.length===1)return this.options[t]===void 0?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,t==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,e,i){var n,o=this;typeof t!="boolean"&&(i=e,e=t,t=!1),i?(e=n=s(e),this.bindings=this.bindings.add(e)):(i=e,e=this.element,n=this.widget()),s.each(i,function(r,h){function l(){return t||o.options.disabled!==!0&&!s(this).hasClass("ui-state-disabled")?(typeof h=="string"?o[h]:h).apply(o,arguments):void 0}typeof h!="string"&&(l.guid=h.guid=h.guid||l.guid||s.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),c=a[1]+o.eventNamespace,p=a[2];p?n.delegate(p,c,l):e.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=s(this.bindings.not(t).get()),this.focusable=s(this.focusable.not(t).get()),this.hoverable=s(this.hoverable.not(t).get())},_delay:function(t,e){function i(){return(typeof t=="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(e){s(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){s(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(e){s(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){s(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var n,o,r=this.options[t];if(i=i||{},e=s.Event(e),e.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!(s.isFunction(r)&&r.apply(this.element[0],[e].concat(i))===!1||e.isDefaultPrevented())}},s.each({show:"fadeIn",hide:"fadeOut"},function(t,e){s.Widget.prototype["_"+t]=function(i,n,o){typeof n=="string"&&(n={effect:n});var r,h=n?n===!0||typeof n=="number"?e:n.effect||e:t;n=n||{},typeof n=="number"&&(n={duration:n}),r=!s.isEmptyObject(n),n.complete=o,n.delay&&i.delay(n.delay),r&&s.effects&&s.effects.effect[h]?i[t](n):h!==t&&i[h]?i[h](n.duration,n.easing,o):i.queue(function(l){s(this)[t](),o&&o.call(i[0]),l()})}}),s.widget;var b=!1;s(document).mouseup(function(){b=!1}),s.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){return s.data(e.target,t.widgetName+".preventClickEvent")===!0?(s.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!b){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=t.which===1,n=typeof this.options.cancel=="string"&&t.target.nodeName?s(t.target).closest(this.options.cancel).length:!1;return i&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(s.data(t.target,this.widgetName+".preventClickEvent")===!0&&s.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(o){return e._mouseMove(o)},this._mouseUpDelegate=function(o){return e._mouseUp(o)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(s.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&s.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),b=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),s.widget("ui.draggable",s.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),t==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var e=this.options;return this._blurActiveElement(t),this.helper||e.disabled||s(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(e.iframeFix===!0?"iframe":e.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var e=s(this);return s("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=this.document[0];if(this.handleElement.is(t.target))try{e.activeElement&&e.activeElement.nodeName.toLowerCase()!=="body"&&s(e.activeElement).blur()}catch{}},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),s.ui.ddmanager&&(s.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return s(this).css("position")==="fixed"}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),s.ui.ddmanager&&!e.dropBehaviour&&s.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),s.ui.ddmanager&&s.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",s.ui.ddmanager&&s.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return s.ui.ddmanager&&!this.options.dropBehaviour&&(i=s.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!i||this.options.revert==="valid"&&i||this.options.revert===!0||s.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?s(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",t)!==!1&&e._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),s.ui.ddmanager&&s.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),s.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!s(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=s.isFunction(e.helper),n=i?s(e.helper.apply(this.element[0],[t])):e.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo(e.appendTo==="parent"?this.element[0].parentNode:e.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),s.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==e&&s.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?n.containment==="window"?(this.containment=[s(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,s(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,s(window).scrollLeft()+s(window).width()-this.helperProportions.width-this.margins.left,s(window).scrollTop()+(s(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment==="document"?(this.containment=[0,0,s(o).width()-this.helperProportions.width-this.margins.left,(s(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):(n.containment==="parent"&&(n.containment=this.helper[0].parentNode),e=s(n.containment),i=e[0],i&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i=t==="absolute"?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,r,h=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,c=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(a=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(a=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),h.grid&&(o=h.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-h.grid[1]:o+h.grid[1]:o,r=h.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,a=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-h.grid[0]:r+h.grid[0]:r),h.axis==="y"&&(a=this.originalPageX),h.axis==="x"&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){this.options.axis!=="y"&&this.helper.css("right")!=="auto"&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,e,i){return i=i||this._uiHash(),s.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),s.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),s.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var n=s.extend({},e,{item:i.element});i.sortables=[],s(i.options.connectToSortable).each(function(){var o=s(this).sortable("instance");o&&!o.options.disabled&&(i.sortables.push(o),o.refreshPositions(),o._trigger("activate",t,n))})},stop:function(t,e,i){var n=s.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,s.each(i.sortables,function(){var o=this;o.isOver?(o.isOver=0,i.cancelHelperRemoval=!0,o.cancelHelperRemoval=!1,o._storedCSS={position:o.placeholder.css("position"),top:o.placeholder.css("top"),left:o.placeholder.css("left")},o._mouseStop(t),o.options.helper=o.options._helper):(o.cancelHelperRemoval=!0,o._trigger("deactivate",t,n))})},drag:function(t,e,i){s.each(i.sortables,function(){var n=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,s.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&s.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,i._parent=e.helper.parent(),o.currentItem=e.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return e.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,s.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),e.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),e.helper.appendTo(i._parent),i._refreshOffsets(t),e.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,s.each(i.sortables,function(){this.refreshPositions()}))})}}),s.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var n=s("body"),o=i.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,e,i){var n=i.options;n._cursor&&s("body").css("cursor",n._cursor)}}),s.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var n=s(e.helper),o=i.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,e,i){var n=i.options;n._opacity&&s(e.helper).css("opacity",n._opacity)}}),s.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var n=i.options,o=!1,r=i.scrollParentNotHidden[0],h=i.document[0];r!==h&&r.tagName!=="HTML"?(n.axis&&n.axis==="x"||(i.overflowOffset.top+r.offsetHeight-t.pageY<n.scrollSensitivity?r.scrollTop=o=r.scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-n.scrollSpeed)),n.axis&&n.axis==="y"||(i.overflowOffset.left+r.offsetWidth-t.pageX<n.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-n.scrollSpeed))):(n.axis&&n.axis==="x"||(t.pageY-s(h).scrollTop()<n.scrollSensitivity?o=s(h).scrollTop(s(h).scrollTop()-n.scrollSpeed):s(window).height()-(t.pageY-s(h).scrollTop())<n.scrollSensitivity&&(o=s(h).scrollTop(s(h).scrollTop()+n.scrollSpeed))),n.axis&&n.axis==="y"||(t.pageX-s(h).scrollLeft()<n.scrollSensitivity?o=s(h).scrollLeft(s(h).scrollLeft()-n.scrollSpeed):s(window).width()-(t.pageX-s(h).scrollLeft())<n.scrollSensitivity&&(o=s(h).scrollLeft(s(h).scrollLeft()+n.scrollSpeed)))),o!==!1&&s.ui.ddmanager&&!n.dropBehaviour&&s.ui.ddmanager.prepareOffsets(i,t)}}),s.ui.plugin.add("draggable","snap",{start:function(t,e,i){var n=i.options;i.snapElements=[],s(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var o=s(this),r=o.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:r.top,left:r.left})})},drag:function(t,e,i){var n,o,r,h,l,a,c,p,d,u,f=i.options,g=f.snapTolerance,m=e.offset.left,_=m+i.helperProportions.width,v=e.offset.top,w=v+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,a=l+i.snapElements[d].width,c=i.snapElements[d].top-i.margins.top,p=c+i.snapElements[d].height,l-g>_||m>a+g||c-g>w||v>p+g||!s.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,s.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):(f.snapMode!=="inner"&&(n=g>=Math.abs(c-w),o=g>=Math.abs(p-v),r=g>=Math.abs(l-_),h=g>=Math.abs(a-m),n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),h&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a}).left)),u=n||o||r||h,f.snapMode!=="outer"&&(n=g>=Math.abs(c-v),o=g>=Math.abs(p-w),r=g>=Math.abs(l-m),h=g>=Math.abs(a-_),n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),h&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(n||o||r||h||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,s.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=n||o||r||h||u)}}),s.ui.plugin.add("draggable","stack",{start:function(t,e,i){var n,o=i.options,r=s.makeArray(s(o.stack)).sort(function(h,l){return(parseInt(s(h).css("zIndex"),10)||0)-(parseInt(s(l).css("zIndex"),10)||0)});r.length&&(n=parseInt(s(r[0]).css("zIndex"),10)||0,s(r).each(function(h){s(this).css("zIndex",n+h)}),this.css("zIndex",n+r.length))}}),s.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var n=s(e.helper),o=i.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,e,i){var n=i.options;n._zIndex&&s(e.helper).css("zIndex",n._zIndex)}}),s.ui.draggable,s.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=s.isFunction(i)?i:function(n){return n.is(i)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){s.ui.ddmanager.droppables[t]=s.ui.ddmanager.droppables[t]||[],s.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=s.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if(t==="accept")this.accept=s.isFunction(e)?e:function(n){return n.is(e)};else if(t==="scope"){var i=s.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=s.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=s.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=s.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=s.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var i=e||s.ui.ddmanager.current,n=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var o=s(this).droppable("instance");return o.options.greedy&&!o.options.disabled&&o.options.scope===i.options.scope&&o.accept.call(o.element[0],i.currentItem||i.element)&&s.ui.intersect(i,s.extend(o,{offset:o.element.offset()}),o.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),s.ui.intersect=function(){function t(e,i,n){return e>=i&&i+n>e}return function(e,i,n,o){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,h=(e.positionAbs||e.position.absolute).top+e.margins.top,l=r+e.helperProportions.width,a=h+e.helperProportions.height,c=i.offset.left,p=i.offset.top,d=c+i.proportions().width,u=p+i.proportions().height;switch(n){case"fit":return r>=c&&d>=l&&h>=p&&u>=a;case"intersect":return r+e.helperProportions.width/2>c&&d>l-e.helperProportions.width/2&&h+e.helperProportions.height/2>p&&u>a-e.helperProportions.height/2;case"pointer":return t(o.pageY,p,i.proportions().height)&&t(o.pageX,c,i.proportions().width);case"touch":return(h>=p&&u>=h||a>=p&&u>=a||p>h&&a>u)&&(r>=c&&d>=r||l>=c&&d>=l||c>r&&l>d);default:return!1}}}(),s.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,n,o=s.ui.ddmanager.droppables[t.options.scope]||[],r=e?e.type:null,h=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(n=0;h.length>n;n++)if(h[n]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible=o[i].element.css("display")!=="none",o[i].visible&&(r==="mousedown"&&o[i]._activate.call(o[i],e),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return s.each((s.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&s.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||s.ui.ddmanager.prepareOffsets(t,e)})},drag:function(t,e){t.options.refreshPositions&&s.ui.ddmanager.prepareOffsets(t,e),s.each(s.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,n,o,r=s.ui.intersect(t,this,this.options.tolerance,e),h=!r&&this.isover?"isout":r&&!this.isover?"isover":null;h&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return s(this).droppable("instance").options.scope===n}),o.length&&(i=s(o[0]).droppable("instance"),i.greedyChild=h==="isover")),i&&h==="isover"&&(i.isover=!1,i.isout=!0,i._out.call(i,e)),this[h]=!0,this[h==="isout"?"isover":"isout"]=!1,this[h==="isover"?"_over":"_out"].call(this,e),i&&h==="isout"&&(i.isout=!1,i.isover=!0,i._over.call(i,e)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||s.ui.ddmanager.prepareOffsets(t,e)}},s.ui.droppable,s.widget("ui.resizable",s.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if(s(t).css("overflow")==="hidden")return!1;var i=e&&e==="left"?"scrollLeft":"scrollTop",n=!1;return t[i]>0?!0:(t[i]=1,n=t[i]>0,t[i]=0,n)},_create:function(){var t,e,i,n,o,r=this,h=this.options;if(this.element.addClass("ui-resizable"),s.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(s("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(s(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=s(),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;t.length>e;e++)i=s.trim(t[e]),o="ui-resizable-"+i,n=s("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:h.zIndex}),i==="se"&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(l){var a,c,p,d;l=l||this.element;for(a in this.handles)this.handles[a].constructor===String?this.handles[a]=this.element.children(this.handles[a]).first().show():(this.handles[a].jquery||this.handles[a].nodeType)&&(this.handles[a]=s(this.handles[a]),this._on(this.handles[a],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(c=s(this.handles[a],this.element),d=/sw|ne|nw|se|n|s/.test(a)?c.outerHeight():c.outerWidth(),p=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),l.css(p,d),this._proportionallyResize()),this._handles=this._handles.add(this.handles[a])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),h.autoHide&&(this._handles.hide(),s(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(s(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){h.disabled||r.resizing||(s(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(i){s(i).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(t){var e,i,n=!1;for(e in this.handles)i=s(this.handles[e])[0],(i===t.target||s.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var e,i,n,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(e+=s(o.containment).scrollLeft()||0,i+=s(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=s(".ui-resizable-"+this.axis).css("cursor"),s("body").css("cursor",n==="auto"?this.axis+"-resize":n),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,n=this.originalMousePosition,o=this.axis,r=t.pageX-n.left||0,h=t.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l&&(e=l.apply(this,[t,r,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),s.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,n,o,r,h,l,a=this.options,c=this;return this._helper&&(e=this._proportionallyResizeElements,i=e.length&&/textarea/i.test(e[0].nodeName),n=i&&this._hasScroll(e[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-n},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,a.animate||this.element.css(s.extend(r,{top:l,left:h})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!a.animate&&this._proportionallyResize()),s("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,r,h=this.options;r={minWidth:this._isNumber(h.minWidth)?h.minWidth:0,maxWidth:this._isNumber(h.maxWidth)?h.maxWidth:1/0,minHeight:this._isNumber(h.minHeight)?h.minHeight:0,maxHeight:this._isNumber(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),r.maxWidth>i&&(r.maxWidth=i),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),n==="sw"&&(t.left=e.left+(i.width-t.width),t.top=null),n==="nw"&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,h=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,c=/sw|nw|w/.test(i),p=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),h&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&c&&(t.left=l-e.minWidth),n&&c&&(t.left=l-e.maxWidth),h&&p&&(t.top=a-e.minHeight),o&&p&&(t.top=a-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||s("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return s.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return s.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return s.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return s.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){s.ui.plugin.call(this,t,[e,this.ui()]),t!=="resize"&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),s.ui.plugin.add("resizable","animate",{stop:function(t){var e=s(this).resizable("instance"),i=e.options,n=e._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&e._hasScroll(n[0],"left")?0:e.sizeDiff.height,h=o?0:e.sizeDiff.width,l={width:e.size.width-h,height:e.size.height-r},a=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,c=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(s.extend(l,c&&a?{top:c,left:a}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var p={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};n&&n.length&&s(n[0]).css({width:p.width,height:p.height}),e._updateCache(p),e._propagate("resize",t)}})}}),s.ui.plugin.add("resizable","containment",{start:function(){var t,e,i,n,o,r,h,l=s(this).resizable("instance"),a=l.options,c=l.element,p=a.containment,d=p instanceof s?p.get(0):/parent/.test(p)?c.parent().get(0):p;d&&(l.containerElement=s(d),/document/.test(p)||p===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:s(document),left:0,top:0,width:s(document).width(),height:s(document).height()||document.body.parentNode.scrollHeight}):(t=s(d),e=[],s(["Top","Right","Left","Bottom"]).each(function(u,f){e[u]=l._num(t.css("padding"+f))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-e[3],width:t.innerWidth()-e[1]},i=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,r=l._hasScroll(d,"left")?d.scrollWidth:o,h=l._hasScroll(d)?d.scrollHeight:n,l.parentData={element:d,left:i.left,top:i.top,width:r,height:h}))},resize:function(t){var e,i,n,o,r=s(this).resizable("instance"),h=r.options,l=r.containerOffset,a=r.position,c=r._aspectRatio||t.shiftKey,p={top:0,left:0},d=r.containerElement,u=!0;d[0]!==document&&/static/.test(d.css("position"))&&(p=l),a.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-p.left),c&&(r.size.height=r.size.width/r.aspectRatio,u=!1),r.position.left=h.helper?l.left:0),a.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,u=!1),r.position.top=r._helper?l.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),n&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),e=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-p.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-p.top:r.offset.top-l.top)),e+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-e,c&&(r.size.height=r.size.width/r.aspectRatio,u=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,c&&(r.size.width=r.size.height*r.aspectRatio,u=!1)),u||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=s(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,o=t.containerElement,r=s(t.helper),h=r.offset(),l=r.outerWidth()-t.sizeDiff.width,a=r.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&s(this).css({left:h.left-n.left-i.left,width:l,height:a}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&s(this).css({left:h.left-n.left-i.left,width:l,height:a})}}),s.ui.plugin.add("resizable","alsoResize",{start:function(){var t=s(this).resizable("instance"),e=t.options;s(e.alsoResize).each(function(){var i=s(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})},resize:function(t,e){var i=s(this).resizable("instance"),n=i.options,o=i.originalSize,r=i.originalPosition,h={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0};s(n.alsoResize).each(function(){var l=s(this),a=s(this).data("ui-resizable-alsoresize"),c={},p=l.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];s.each(p,function(d,u){var f=(a[u]||0)+(h[u]||0);f&&f>=0&&(c[u]=f||null)}),l.css(c)})},stop:function(){s(this).removeData("resizable-alsoresize")}}),s.ui.plugin.add("resizable","ghost",{start:function(){var t=s(this).resizable("instance"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=s(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=s(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),s.ui.plugin.add("resizable","grid",{resize:function(){var t,e=s(this).resizable("instance"),i=e.options,n=e.size,o=e.originalSize,r=e.originalPosition,h=e.axis,l=typeof i.grid=="number"?[i.grid,i.grid]:i.grid,a=l[0]||1,c=l[1]||1,p=Math.round((n.width-o.width)/a)*a,d=Math.round((n.height-o.height)/c)*c,u=o.width+p,f=o.height+d,g=i.maxWidth&&u>i.maxWidth,m=i.maxHeight&&f>i.maxHeight,_=i.minWidth&&i.minWidth>u,v=i.minHeight&&i.minHeight>f;i.grid=l,_&&(u+=a),v&&(f+=c),g&&(u-=a),m&&(f-=c),/^(se|s|e)$/.test(h)?(e.size.width=u,e.size.height=f):/^(ne)$/.test(h)?(e.size.width=u,e.size.height=f,e.position.top=r.top-d):/^(sw)$/.test(h)?(e.size.width=u,e.size.height=f,e.position.left=r.left-p):((0>=f-c||0>=u-a)&&(t=e._getPaddingPlusBorderDimensions(this)),f-c>0?(e.size.height=f,e.position.top=r.top-d):(f=c-t.height,e.size.height=f,e.position.top=r.top+o.height-f),u-a>0?(e.size.width=u,e.position.left=r.left-p):(u=a-t.width,e.size.width=u,e.position.left=r.left+o.width-u))}}),s.ui.resizable,s.widget("ui.selectable",s.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=s(e.options.filter,e.element[0]),t.addClass("ui-selectee"),t.each(function(){var i=s(this),n=i.offset();s.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=s("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var e=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=s(i.filter,this.element[0]),this._trigger("start",t),s(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=s.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,e._trigger("unselecting",t,{unselecting:n.element}))}),s(t.target).parents().addBack().each(function(){var n,o=s.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?e._trigger("selecting",t,{selecting:o.element}):e._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,i=this,n=this.options,o=this.opos[0],r=this.opos[1],h=t.pageX,l=t.pageY;return o>h&&(e=h,h=o,o=e),r>l&&(e=l,l=r,r=e),this.helper.css({left:o,top:r,width:h-o,height:l-r}),this.selectees.each(function(){var a=s.data(this,"selectable-item"),c=!1;a&&a.element!==i.element[0]&&(n.tolerance==="touch"?c=!(a.left>h||o>a.right||a.top>l||r>a.bottom):n.tolerance==="fit"&&(c=a.left>o&&h>a.right&&a.top>r&&l>a.bottom),c?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,i._trigger("selecting",t,{selecting:a.element}))):(a.selecting&&((t.metaKey||t.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),i._trigger("unselecting",t,{unselecting:a.element}))),a.selected&&(t.metaKey||t.ctrlKey||a.startselected||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,i._trigger("unselecting",t,{unselecting:a.element})))))}),!1}},_mouseStop:function(t){var e=this;return this.dragged=!1,s(".ui-unselecting",this.element[0]).each(function(){var i=s.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,e._trigger("unselected",t,{unselected:i.element})}),s(".ui-selecting",this.element[0]).each(function(){var i=s.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,e._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),s.widget("ui.sortable",s.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),t==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),s.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,n=!1,o=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),s(t.target).parents().each(function(){return s.data(this,o.widgetName+"-item")===o?(i=s(this),!1):void 0}),s.data(t.target,o.widgetName+"-item")===o&&(i=s(t.target)),i&&(!this.options.handle||e||(s(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,e,i){var n,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},s.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&r.cursor!=="auto"&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=s("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return s.ui.ddmanager&&(s.ui.ddmanager.current=this),s.ui.ddmanager&&!r.dropBehaviour&&s.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,n,o,r=this.options,h=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),h!==!1&&s.ui.ddmanager&&!r.dropBehaviour&&s.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(i=this.items[e],n=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==n&&!s.contains(this.placeholder[0],n)&&(this.options.type==="semi-dynamic"?!s.contains(this.element[0],n):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),s.ui.ddmanager&&s.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(s.ui.ddmanager&&!this.options.dropBehaviour&&s.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),o=this.options.axis,r={};o&&o!=="x"||(r.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&o!=="y"||(r.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,s(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),s.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?s(this.domPosition.prev).after(this.currentItem):s(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},s(e).each(function(){var n=(s(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(s(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,h=r+t.width,l=t.top,a=l+t.height,c=this.offset.click.top,p=this.offset.click.left,d=this.options.axis==="x"||n+c>l&&a>n+c,u=this.options.axis==="y"||e+p>r&&h>e+p,f=d&&u;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>r&&h>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>l&&a>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&r==="right"||o==="down"?2:1:o&&(o==="down"?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?o==="right"&&i||o==="left"&&!i:n&&(n==="down"&&e||n==="up"&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return t!==0&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return t!==0&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){h.push(this)}var i,n,o,r,h=[],l=[],a=this._connectWith();if(a&&t)for(i=a.length-1;i>=0;i--)for(o=s(a[i],this.document[0]),n=o.length-1;n>=0;n--)r=s.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([s.isFunction(r.options.items)?r.options.items.call(r.element):s(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([s.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):s(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(e);return s(h)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=s.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,n,o,r,h,l,a,c=this.items,p=[[s.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):s(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;e>=0;e--)for(n=s(d[e],this.document[0]),i=n.length-1;i>=0;i--)o=s.data(n[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(p.push([s.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):s(o.options.items,o.element),o]),this.containers.push(o));for(e=p.length-1;e>=0;e--)for(r=p[e][1],h=p[e][0],i=0,a=h.length;a>i;i++)l=s(h[i]),l.data(this.widgetName+"-item",r),c.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,i,n,o;for(e=this.items.length-1;e>=0;e--)i=this.items[e],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?s(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var e,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(e=i.placeholder,i.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=s("<"+n+">",t.document[0]).addClass(e||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return n==="tbody"?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),s("<tr>",t.document[0]).appendTo(o)):n==="tr"?t._createTrPlaceholder(t.currentItem,o):n==="img"&&o.attr("src",t.currentItem.attr("src")),e||o.css("visibility","hidden"),o},update:function(n,o){(!e||i.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=s(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){s("<td>&#160;</td>",i.document[0]).attr("colspan",s(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,n,o,r,h,l,a,c,p,d=null,u=null;for(e=this.containers.length-1;e>=0;e--)if(!s.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&s.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],u=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(this.containers.length===1)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),r=c?"left":"top",h=c?"width":"height",p=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)s.contains(this.containers[u].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],a=!1,t[p]-l>this.items[i][h]/2&&(a=!0),n>Math.abs(t[p]-l)&&(n=Math.abs(t[p]-l),o=this.items[i],this.direction=a?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=s.isFunction(e.helper)?s(e.helper.apply(this.element[0],[t,this.currentItem])):e.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||s(e.appendTo!=="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||e.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||e.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),s.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&s.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&s.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;n.containment==="parent"&&(n.containment=this.helper[0].parentNode),(n.containment==="document"||n.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(n.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=s(n.containment)[0],e=s(n.containment).offset(),i=s(t).css("overflow")!=="hidden",this.containment=[e.left+(parseInt(s(t).css("borderLeftWidth"),10)||0)+(parseInt(s(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(s(t).css("borderTopWidth"),10)||0)+(parseInt(s(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(s(t).css("borderLeftWidth"),10)||0)-(parseInt(s(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(s(t).css("borderTopWidth"),10)||0)-(parseInt(s(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i=t==="absolute"?1:-1,n=this.cssPosition!=="absolute"||this.scrollParent[0]!==this.document[0]&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,o=t.pageX,r=t.pageY,h=this.cssPosition!=="absolute"||this.scrollParent[0]!==this.document[0]&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(h[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),n.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/n.grid[1])*n.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1]:e,i=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(r,h,l){return function(a){l._trigger(r,a,h._uiHash(h))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(r){this._trigger("receive",r,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(r){this._trigger("update",r,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(r){this._trigger("remove",r,this._uiHash())}),o.push((function(r){return function(h){r._trigger("receive",h,this._uiHash(this))}}).call(this,this.currentContainer)),o.push((function(r){return function(h){r._trigger("update",h,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;o.length>n;n++)o[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){s.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||s([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})});
